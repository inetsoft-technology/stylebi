<!--
  ~ This file is part of StyleBI.
  ~ Copyright (C) 2024  InetSoft Technology
  ~
  ~ This program is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU Affero General Public License as published by
  ~ the Free Software Foundation, either version 3 of the License, or
  ~ (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU Affero General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Affero General Public License
  ~ along with this program.  If not, see <https://www.gnu.org/licenses/>.
  -->
<div class="vs-spinner">
  <input *ngIf="!showLabel && model"
         (click)="onClick($event)"
         (blur)="onBlur($event)"
         (keyup.enter)="onBlur($event)"
         type="number"
         [step]="model.increment"
         [(ngModel)]="model.value"
         VSDataTip [dataTipName]="getAssemblyName()"
         VSPopComponent [popComponentName]="getAssemblyName()" [popContainerName]="model.container"
         [popZIndex]="model.objectFormat.zIndex"
         [style.display]="getVisible() ? null : 'none'"
         [class.fade-assembly]="!viewer && !model.visible"
         [class.disable-actions-fade]="!model.enabled"
         [class.move-handle]="(selected || inSelectedGroupContainer) && !viewer"
         [style.top.px]="viewer || embeddedVS ? model.objectFormat.top : null"
         [style.left.px]="viewer || embeddedVS ? model.objectFormat.left : null"
         [style.position]="'absolute'"
         [style.width.px]="model.objectFormat.width"
         [style.height.px]="model.objectFormat.height"
         [style.z-index]="viewer ? model.objectFormat.zIndex : null"
         [style.text-align]="model.objectFormat.hAlign"
         [style.padding]="getTextVerticalPosition()"
         [safeFont]="model.objectFormat.font"
         [style.background]="model.objectFormat.background"
         [style.color]="model.objectFormat.foreground"
         [style.text-decoration]="model.objectFormat.decoration"
         [style.border-bottom]="model.objectFormat.border.bottom"
         [style.border-top]="model.objectFormat.border.top"
         [style.border-left]="model.objectFormat.border.left"
         [style.border-right]="model.objectFormat.border.right"
         [style.border-radius.px]="model.objectFormat.roundCorner"
         [style.white-space]="model.objectFormat.wrapping.whiteSpace"
         [style.word-wrap]="model.objectFormat.wrapping.wordWrap"
         [style.overflow]="model.objectFormat.wrapping.overflow"
         (mouseleave)="showLabel = true"
         (mousedown)="$event.stopPropagation()">
  <div *ngIf="showLabel && model" class="text-label"
       VSDataTip [dataTipName]="getAssemblyName()"
       VSPopComponent [popComponentName]="getAssemblyName()" [popContainerName]="model.container"
       [popZIndex]="model.objectFormat.zIndex"
       [style.display]="getVisible() ? null : 'none'"
       [style.top.px]="viewer || embeddedVS ? model.objectFormat.top : null"
       [style.left.px]="viewer || embeddedVS ? model.objectFormat.left : null"
       [style.position]="'absolute'"
       [style.width.px]="model.objectFormat.width"
       [style.height.px]="model.objectFormat.height"
       [style.background-color]="model.objectFormat.background"
       [style.justify-content]="model.objectFormat.justifyContent"
       [style.align-items]="model.objectFormat.alignItems"
       [style.color]="model.objectFormat.foreground"
       [style.text-decoration]="model.objectFormat.decoration"
       [style.border-bottom]="getLabelBorder(model.objectFormat.border?.bottom)"
       [style.border-top]="getLabelBorder(model.objectFormat.border?.top)"
       [style.border-left]="getLabelBorder(model.objectFormat.border?.left)"
       [style.border-right]="getLabelBorder(model.objectFormat.border?.right)"
       [style.border-radius.px]="model.objectFormat.roundCorner"
       [style.z-index]="viewer ? model.objectFormat.zIndex : null"
       [safeFont]="model.objectFormat.font"
       (mouseenter)="showLabel = false"
       >
    {{model.currentLabel}}
  </div>
</div>
